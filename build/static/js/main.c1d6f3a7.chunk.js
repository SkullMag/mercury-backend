(this.webpackJsonpmercury=this.webpackJsonpmercury||[]).push([[0],Array(22).concat([function(e,t,a){e.exports=a.p+"static/media/1024.bec1be25.png"},,,,,,function(e){e.exports=JSON.parse('{"navbar":{"dictionary":"Dictionary","collections":"Collections","account":"Account"},"dictionary":{"wordInputPlaceholder":"Type the word","searchButton":"Search","tryAnotherWord":"Try to search for another word","chooseCollections":"Choose collections","addToCollectionsButton":"Add"},"collections":{"createCollectionButton":"Create","deleteCollectionButton":"Delete","cancelEditingButton":"Cancel","startEditingButton":"Edit","createCollectionDropdownTitle":"Create collection","collectionNameInputPlaceholder":"Name","addCollectionButton":"Create","collectionNameLengthError":"Name is too short","collectionAlreadyCreatedError":"Try unique name"},"collectionWords":{"learnButton":"Learn"},"auth":{"passwordsDontMatch":"Passwords don\'t match","invalidEmail":"Email is invalid","weakPassword":"Password is too weak","shortFullname":"Fullname is too short","shortUsername":"Username is too short","fullnamePlaceholder":"Fullname","emailPlaceholder":"Email","usernamePlaceholder":"Username","passwordPlaceholder":"Enter password","enterPasswordAgainPlaceholder":"Enter password again","signUpButton":"Sign Up","signUpTitle":"Sign Up","signInButton":"Sign In","signInTitle":"Sign In","newToMercury":"New to mercury?","logoutButton":"Log out"},"learning":{"rememberButton":"Remember","forgotButton":"Forgot","showDefinition":"Show","hideDefinition":"Hide","youRemember":"You remember","ofWords":"of words","goBack":"Go back"}}')},function(e){e.exports=JSON.parse('{"navbar":{"dictionary":"\u0421\u043b\u043e\u0432\u0430\u0440\u044c","collections":"\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","account":"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"},"dictionary":{"wordInputPlaceholder":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e","searchButton":"\u041f\u043e\u0438\u0441\u043a","tryAnotherWord":"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u0434\u0440\u0443\u0433\u043e\u0435 \u0441\u043b\u043e\u0432\u043e","chooseCollections":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","addToCollectionsButton":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"},"collections":{"createCollectionButton":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c","deleteCollectionButton":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","cancelEditingButton":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","startEditingButton":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","createCollectionDropdownTitle":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e","collectionNameInputPlaceholder":"\u0418\u043c\u044f","addCollectionButton":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c","collectionNameLengthError":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435","collectionAlreadyCreatedError":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},"collectionWords":{"learnButton":"\u0423\u0447\u0438\u0442\u044c"},"auth":{"passwordsDontMatch":"\u041f\u0430\u0440\u043e\u043b\u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b","invalidEmail":"\u0412\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441","weakPassword":"\u041f\u0430\u0440\u043e\u043b\u044c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0441\u043b\u0430\u0431\u044b\u0439","shortFullname":"\u0418\u043c\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435","shortUsername":"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435","fullnamePlaceholder":"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f","emailPlaceholder":"Email","usernamePlaceholder":"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","passwordPlaceholder":"\u041f\u0430\u0440\u043e\u043b\u044c","enterPasswordAgainPlaceholder":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0441\u043d\u043e\u0432\u0430","signUpButton":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f","signUpTitle":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f","signInButton":"\u0412\u043e\u0439\u0442\u0438","signInTitle":"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442","newToMercury":"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?","logoutButton":"\u0412\u044b\u0439\u0442\u0438"},"learning":{"rememberButton":"\u041f\u043e\u043c\u043d\u044e","forgotButton":"\u0417\u0430\u0431\u044b\u043b","showDefinition":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c","hideDefinition":"\u0421\u043a\u0440\u044b\u0442\u044c","youRemember":"\u0412\u044b \u043f\u043e\u043c\u043d\u0438\u0442\u0435","ofWords":"\u0441\u043b\u043e\u0432","goBack":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"}}')},,function(e,t,a){e.exports=a(65)},function(e,t,a){},,,,,,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(32);var n=a(15),r=a(7),o=a(3),c=a(0),l=a.n(c),i=a(17),s=a(1),u=a.n(s),m=a(5),d="",p={username:"",fullname:"",profileBio:"",isSubscribed:"",token:null===localStorage.getItem("token")?"":localStorage.getItem("token")},f=Object(i.b)({name:"auth",initialState:p,reducers:{loginAction:function(e,t){return e.fullname=t.payload.fullname,e.isSubscribed=t.payload.isSubscribed,e.username=t.payload.username,e.profileBio=t.payload.profileBio,e.token=t.payload.token,e},logoutAction:function(){return localStorage.removeItem("token"),p}}}),h=f.actions,b=h.loginAction,E=h.logoutAction;h.signupAction;function g(){return(g=Object(m.a)(u.a.mark((function e(t,a){var n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=localStorage.getItem("token"))){e.next=14;break}return e.next=4,fetch(d+"/api/getUserData/"+n);case 4:if(200!==(r=e.sent).status){e.next=13;break}return e.next=8,r.json();case 8:(o=e.sent).token=n,t(f.actions.loginAction(o)),e.next=14;break;case 13:t(f.actions.logoutAction());case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=f.reducer,v=Object(i.a)({reducer:{auth:w}}),j=a(6),O=a(22),y=a.n(O),N=(a(41),a(67));var C=function(e){var t=Object(o.f)(),a=Object(N.a)("navbar").t;return l.a.createElement("nav",{className:"Header"},l.a.createElement("img",{alt:"logo",src:y.a,height:"32px",id:"logo"}),l.a.createElement("p",{className:"titleName"},"Mercury"),l.a.createElement(r.b,{className:"/dictionary"===t.pathname?"pageLink active":"pageLink",to:"/dictionary"},a("dictionary")),l.a.createElement(r.b,{className:"/collections"===t.pathname?"pageLink active":"pageLink",to:"/collections"},a("collections")),l.a.createElement(r.b,{className:"/account"===t.pathname?"pageLink active":"pageLink",to:"/account"},a("account")))};a(47),a(48);var x=function(){var e=Object(j.c)((function(e){return e.auth})),t="";return""!==e.username&&(t="http://tinygraphs.com/spaceinvaders/"+e.username+"?theme=bythepool&numcolors=4&size=200&fmt=svg"),l.a.createElement("div",{className:"card profileInfoCard"},l.a.createElement("img",{className:"userProfilePicture",alt:"Profile",src:t}),l.a.createElement("h1",{className:"fullname"},e.fullname),l.a.createElement("p",{className:"username"},"@",e.username),""!==e.profileBio?l.a.createElement("i",null,l.a.createElement("q",{className:"profileBio"},e.profileBio)):null)};var k=function(){var e=Object(j.b)(),t=Object(o.g)(),a=Object(j.c)((function(e){return e.auth})),n=Object(N.a)("auth").t;return""===a.token?l.a.createElement(o.a,{to:"/login"}):l.a.createElement("div",{className:"profilePage"},l.a.createElement("section",null,l.a.createElement(x,null),l.a.createElement("button",{onClick:function(){e(E()),t("/login")},className:"card logoutButton"},n("logoutButton"))))},B=a(2),S=a(4);a(49);function P(e){return T.apply(this,arguments)}function T(){return(T=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d+"/api/definition/{}",e.next=3,fetch(a.replace("{}",t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return e.length>0?e.charAt(0).toUpperCase()+(e.length>1?e.slice(1):""):""}function I(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}function W(e,t){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d+"/api/requestVerificationCode/"+t+"/"+a);case 2:if(200!==(n=e.sent).status){e.next=7;break}e.t0=null,e.next=10;break;case 7:return e.next=9,n.json();case 9:e.t0=e.sent;case 10:return e.t1=e.t0,e.t2=n.status,e.abrupt("return",[e.t1,e.t2]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){var t=l.a.useState({word:""}),a=Object(B.a)(t,2),n=a[0],r=a[1],o=Object(N.a)("dictionary").t;function c(){return i.apply(this,arguments)}function i(){return(i=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setParentState(Object(S.a)(Object(S.a)({},e.parentState),{},{isLoading:!0})),t.next=3,P(n.word.toLowerCase());case 3:a=t.sent,e.setParentState(Object(S.a)(Object(S.a)({},e.parentState),{},{json_data:a}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return l.a.createElement("div",{className:"WordInputForm"},l.a.createElement("input",{className:"card WordInput",value:n.word,onChange:function(e){var t=e.target.value;r(Object(S.a)(Object(S.a)({},n),{},{word:A(t)}))},onKeyPress:function(e){"Enter"===e.key&&c()},placeholder:o("wordInputPlaceholder"),type:"text"}),l.a.createElement("button",{className:"card SearchButton",onClick:c},o("searchButton")))};a(50),a(51);var F=function(e){return l.a.createElement("div",{className:"Definition"},l.a.createElement("p",{id:"definition"},l.a.createElement("span",{id:"partOfSpeech"},A(e.partOfSpeech),":\xa0"),l.a.createElement("ol",{className:"definitionsList"},e.definition.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("li",null,e.definition),""!==e.example?l.a.createElement("i",{className:"example"},l.a.createElement("q",null,e.example)):null)})))))},U=function(e){var t=e.fill,a=e.width,n=e.height;return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:n,fill:t,className:"bi bi-bookmarks-fill",viewBox:"0 0 16 16"},l.a.createElement("path",{d:"M2 4a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v11.5a.5.5 0 0 1-.777.416L7 13.101l-4.223 2.815A.5.5 0 0 1 2 15.5V4z"}),l.a.createElement("path",{d:"M4.268 1A2 2 0 0 1 6 0h6a2 2 0 0 1 2 2v11.5a.5.5 0 0 1-.777.416L13 13.768V2a1 1 0 0 0-1-1H4.268z"}))};function M(e){var t=e.header,a=e.body,n=e.footer,r=e.isHidden,o=e.style;return!r&&l.a.createElement("div",{className:"dropdown-menu card",style:o},l.a.createElement("div",{className:"dropdown-header"},t),l.a.createElement("div",{className:"dropdown-body"},a),l.a.createElement("div",{className:"dropdown-footer"},n))}function z(e){var t=l.a.useState(!1),a=Object(B.a)(t,2),n=a[0],r=a[1];return l.a.createElement("div",{className:n?"dropdown-item active":"dropdown-item",onClick:function(t){var a=n;r(!a),e.onSelect(t.target.textContent,a)}},e.children,l.a.createElement("div",{className:"right-item",style:{marginLeft:"auto",display:n?"flex":"none"}},e.right))}a(52);var H=function(e){var t=e.width,a=e.height,n=e.fill;return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,fill:n,class:"bi bi-check",viewBox:"0 0 16 16"},l.a.createElement("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"}))};function V(e){var t=e.word,a=l.a.useState(!0),n=Object(B.a)(a,2),r=n[0],o=n[1],i=Object(j.c)((function(e){return e.auth})),s=l.a.useState([]),p=Object(B.a)(s,2),f=p[0],h=p[1],b=Object(N.a)("dictionary").t,E=new Set;function g(e,t){t?E.delete(e):E.add(e)}return Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch([d,"api","getCollections",i.token,i.username].join("/"));case 2:if(200!==(t=e.sent).status){e.next=9;break}return e.t0=h,e.next=7,t.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==i.username&&function(){e.apply(this,arguments)}()}),[i.username]),l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{title:"Add to collection",className:"card addToCollection",onClick:function(){return o((function(e){return!e}))}},l.a.createElement(U,{width:19,height:19,fill:"white"})),l.a.createElement(M,{title:"Choose collections",header:l.a.createElement("p",null,b("chooseCollections")),body:f.map((function(e,t){return l.a.createElement(z,{onSelect:g,key:t,right:l.a.createElement(H,{width:32,height:32,fill:"white"})},A(e.name))})),footer:l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"addToCollectionsButton",onClick:function(){E.forEach(function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch([d,"api","addWordToCollection",i.token,a.toLowerCase(),t].join("/"),{method:"POST"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o((function(e){return!e}))}},b("addToCollectionsButton"))),isHidden:r}))}a(53);function R(e){var t=e.width,a=e.height,n=e.fill,r=e.style,o=e.phonetics;return l.a.createElement("button",{title:"Pronounce",className:"pronounceButton",onClick:function(){new Audio(o).play()}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,fill:n,style:r,className:"bi bi-volume-up-fill",viewBox:"0 0 16 16"},l.a.createElement("path",{d:"M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"}),l.a.createElement("path",{d:"M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"}),l.a.createElement("path",{d:"M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"})))}var _=l.a.memo((function(e){var t=e.json_data,a=e.definitionsViewClassName,n=e.showWord,r=void 0===n||n,o=e.addToCollectionButton,c=e.style,i=Object(N.a)("dictionary").t,s=[],u=!("error"in t);if(null!=t&&u){var m=t.definitions,d=0;for(var p in m)s.push(l.a.createElement(F,{key:d,partOfSpeech:p,definition:m[p],example:m[p][0].example})),d+=1}return u?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:a+" DefinitionsView",style:c},r&&l.a.createElement("div",{className:"wordView"},l.a.createElement("p",{className:"word"},t.word),""!==t.phonetics?l.a.createElement(R,{width:"24",height:"24",fill:"white",phonetics:t.phonetics}):null,o?l.a.createElement(V,{word:t.word}):null),s)):l.a.createElement("div",{className:a+" DefinitionsView",style:c},l.a.createElement("p",{id:"definition"},l.a.createElement("span",{id:"partOfSpeech"},i("tryAnotherWord"))))}));a(54);function J(){var e=l.a.useState({json_data:null,isLoading:!1}),t=Object(B.a)(e,2),a=t[0],n=t[1];return l.a.createElement("div",{className:"Definitions"},l.a.createElement("section",null,l.a.createElement(D,{setParentState:n,parentState:a}),null!==a.json_data?l.a.createElement(_,{json_data:a.json_data,addToCollectionButton:!0,definitionsViewClassName:"card",style:{marginBottom:"200px"}}):null))}a(55);var q=function(e){var t=Object(j.d)(),a=Object(o.g)(),n=Object(c.useState)(""),i=Object(B.a)(n,2),s=i[0],p=i[1],f=Object(N.a)("auth").t,h=Object(c.useState)({username:"",password:""}),E=Object(B.a)(h,2),g=E[0],w=E[1];function v(){return(v=Object(m.a)(u.a.mark((function e(){var n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+"/api/login",e.next=3,fetch(n,{method:"POST",body:JSON.stringify(g)});case 3:return r=e.sent,e.next=6,r.json();case 6:o=e.sent,200===r.status?(localStorage.setItem("token",o.token),t.dispatch(b(o)),a("/account")):p(o.error);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("div",{className:"loginForm"},l.a.createElement("h1",{className:"loginTitle"},f("signInTitle")),l.a.createElement("p",{className:"errorText"},s),l.a.createElement("input",{type:"text",placeholder:f("usernamePlaceholder"),onChange:function(e){var t=e.target.value;w(Object(S.a)(Object(S.a)({},g),{},{username:t.toLowerCase()}))},className:"card inputForm usernameInput"}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",placeholder:f("passwordPlaceholder"),onChange:function(e){var t=e.target.value;w(Object(S.a)(Object(S.a)({},g),{},{password:t}))},className:"card inputForm passwordInput"}),l.a.createElement("br",null),l.a.createElement("button",{className:"card loginButton",onClick:function(){return v.apply(this,arguments)}},f("signInButton")),l.a.createElement("br",null),l.a.createElement("p",{className:"signupLink"},f("newToMercury")," ",l.a.createElement(r.b,{to:"/signup"},f("signUpButton"))))},Y=(a(56),a(26)),Z=a.n(Y);var G=function(){var e=Object(o.g)(),t=Object(N.a)("auth").t,a=Object(c.useState)({email:"",password:"",repeatedPassword:"",fullname:"",passwordScore:"",username:"",passwordsMatch:"",errorText:""}),n=Object(B.a)(a,2),r=n[0],i=n[1];function s(e){var a=e.currentTarget;switch(a.name){case"email":i(Object(S.a)(Object(S.a)({},r),{},{email:a.value}));break;case"password":i(Object(S.a)(Object(S.a)({},r),{},{password:a.value,passwordsMatch:a.value===r.password||""===r.repeatedPassword?"":t("passwordsDontMatch")}));break;case"repeatedPassword":i(Object(S.a)(Object(S.a)({},r),{},{repeatedPassword:a.value,passwordsMatch:a.value===r.password?"":t("passwordsDontMatch")}));break;case"fullname":i(Object(S.a)(Object(S.a)({},r),{},{fullname:a.value}));break;case"username":a.value.length>0&&i(Object(S.a)(Object(S.a)({},r),{},{username:"@"===a.value.charAt(0)?a.value:"@"+a.value}))}}function d(){return(d=Object(m.a)(u.a.mark((function a(){var n,o,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(I(r.email)){a.next=3;break}return i(Object(S.a)(Object(S.a)({},r),{},{errorText:t("invalidEmail")})),a.abrupt("return");case 3:if(r.repeatedPassword===r.password){a.next=5;break}return a.abrupt("return");case 5:if(0!==r.passwordScore&&1!==r.passwordScore){a.next=8;break}return i(Object(S.a)(Object(S.a)({},r),{},{errorText:t("weakPassword")})),a.abrupt("return");case 8:if(!(r.fullname.length<2)){a.next=11;break}return i(Object(S.a)(Object(S.a)({},r),{},{errorText:t("shortFullname")})),a.abrupt("return");case 11:if(!(r.username.length<3)){a.next=14;break}return i(Object(S.a)(Object(S.a)({},r),{},{errorText:t("shortUsername")})),a.abrupt("return");case 14:return i(Object(S.a)(Object(S.a)({},r),{},{errorText:""})),a.next=17,W(r.username.slice(1),r.email);case 17:n=a.sent,o=Object(B.a)(n,2),c=o[0],200!==o[1]?i(Object(S.a)(Object(S.a)({},r),{},{errorText:c.error})):e("/verification",{state:r,setState:i});case 22:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return l.a.createElement("div",{className:"signupForm"},l.a.createElement("h1",{className:"signupTitle"},t("signUpTitle")),l.a.createElement("p",{className:"errorText"},r.errorText),l.a.createElement("input",{type:"text",placeholder:t("fullnamePlaceholder"),className:"card inputForm",onChange:s,name:"fullname",value:r.fullname}),l.a.createElement("br",null),l.a.createElement("input",{type:"email",placeholder:t("emailPlaceholder"),className:"card inputForm emailInput",onChange:s,name:"email",value:r.email}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",placeholder:t("usernamePlaceholder"),className:"card inputForm usernameInput",onChange:s,name:"username",value:r.username}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",placeholder:t("passwordPlaceholder"),className:"card inputForm password",onChange:s,name:"password",value:r.password}),l.a.createElement(Z.a,{password:r.password,className:"passwordStrengthBar",minLength:"8",onChangeScore:function(e,t){i(Object(S.a)(Object(S.a)({},r),{},{passwordScore:e}))}}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",placeholder:t("enterPasswordAgainPlaceholder"),className:"card inputForm repeatPassword",onChange:s,name:"repeatedPassword",value:r.repeatedPassword}),l.a.createElement("br",null),l.a.createElement("p",{className:"passwordsMatch"},r.passwordsMatch),l.a.createElement("button",{className:"card signupButton",onClick:function(){return d.apply(this,arguments)}},t("signUpButton")))},K=(a(57),a(27));var X=function(){var e=Object(c.useState)(59),t=Object(B.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(""),s=Object(B.a)(i,2),p=s[0],f=s[1],h=Object(o.f)().state,b=Object(c.useState)(""),E=Object(B.a)(b,2),g=E[0],w=E[1],v=Object(o.g)();function j(){return(j=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===a){e.next=3;break}return f("Wait for "+a+" seconds"),e.abrupt("return");case 3:return console.log(h.email),e.next=6,W(h.email);case 6:200===e.sent?n(59):f((void 0).error);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!==g.length){e.next=16;break}return t={email:h.email,password:h.password,username:h.username.slice(1),verificationCode:g,fullname:h.fullname},e.next=4,fetch(d+"/api/signup",{method:"POST",body:JSON.stringify(t)});case 4:if(200!==(a=e.sent).status){e.next=9;break}v("/login"),e.next=14;break;case 9:return e.t0=console,e.next=12,a.json();case 12:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 14:e.next=17;break;case 16:f("Fullfill the verification code");case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e=setInterval((function(){n((function(e){return e>0?e-1:0}))}),1e3);return function(){return clearInterval(e)}}),[]),null===h?l.a.createElement(o.a,{to:"/signup"}):l.a.createElement("div",{className:"confirmationCodeForm"},l.a.createElement("h1",null,"Enter code sent to your email"),l.a.createElement("p",{className:"errorText"},p),l.a.createElement("center",null,l.a.createElement(K.a,{placeholder:"",onChange:function(e){return w(e)},value:g})),l.a.createElement("p",{className:"resendTimer"},l.a.createElement(r.b,{onClick:function(){return j.apply(this,arguments)},to:"/verification"},"Resend")," ",0!==a?" in "+a+" seconds":null),l.a.createElement("button",{className:"card checkCode",onClick:function(){return O.apply(this,arguments)}},"Sign Up"))},$=(a(58),l.a.createContext()),Q=function(e){var t=e.width,a=e.height,n=e.fill,r=e.style;return l.a.createElement("svg",{className:"chevron",xmlns:"http://www.w3.org/2000/svg",width:t,height:a,fill:n,viewBox:"0 0 16 16",style:r},l.a.createElement("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"}))};var ee=function(e){var t=e.authorUsername,a=e.collectionName,n=e.wordCount,c=e.onDelete,i=Object(N.a)("collections").t,s=Object(o.g)(),u=Object(j.c)((function(e){return e.auth})),m=l.a.useContext($).isEditing;return l.a.createElement("div",{style:{display:"flex"}},m&&l.a.createElement("div",{className:"editButtons"},l.a.createElement("button",{className:"deleteCurrentCollection",onClick:function(){return c(a)}},i("deleteCollectionButton"))),l.a.createElement("div",{className:"card collection"},l.a.createElement("div",{className:"card collectionDetails",onClick:function(){s("/collections/"+t+"/"+a)}},l.a.createElement("p",{className:"collectionName"},a),l.a.createElement("p",{className:"wordCount"},1===n?n+" word":n+" words"),l.a.createElement(Q,{width:"20",height:"20",fill:"currentColor"})),l.a.createElement("div",{className:"card collectionFeatures"},l.a.createElement("img",{src:"http://tinygraphs.com/spaceinvaders/"+u.username+"?theme=bythepool&numcolors=4&size=200&fmt=svg",alt:"account",className:"profilePicture"}),l.a.createElement(r.b,{to:"/account/"},"@"+t))))},te=a(18);a(59);function ae(e){var t=e.setCollections,a=Object(N.a)("collections").t,n=l.a.useState(!0),r=Object(B.a)(n,2),o=r[0],c=r[1],i=l.a.useState(""),s=Object(B.a)(i,2),p=s[0],f=s[1],h=l.a.useState(""),b=Object(B.a)(h,2),E=b[0],g=b[1],w=Object(j.c)((function(e){return e.auth})),v=l.a.useContext($),O=v.isEditing,y=v.toggleEditing;function C(){return(C=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p.length<3)){e.next=3;break}return g(a("collectionNameLengthError")),e.abrupt("return");case 3:return e.next=5,fetch([d,"api","createCollection",w.token,p].join("/"),{method:"POST"});case 5:if((n=e.sent).ok){e.next=9;break}return g(a("collectionAlreadyCreatedError")),e.abrupt("return");case 9:200===n.status&&(t((function(e){return{collections:[].concat(Object(te.a)(e.collections),[{name:p,wordCount:0,username:w.username}])}})),c((function(e){return!e})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("div",{className:"collections-header"},l.a.createElement("button",{className:"createCollectionButton",onClick:function(){return c((function(e){return!e}))}},a("createCollectionButton")),l.a.createElement("button",{className:"selectCollectionButton",onClick:y},a(O?"cancelEditingButton":"startEditingButton")),l.a.createElement(M,{style:{transform:"translateX(0) translateY(120px)","text-align":"center"},header:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,a("createCollectionDropdownTitle")),E&&l.a.createElement("p",{className:"errorText",style:{"font-size":"16px"}},E)),body:l.a.createElement("input",{type:"text",className:"collectionNameInput",placeholder:a("collectionNameInputPlaceholder"),value:p,onChange:function(e){f(e.target.value)}}),footer:l.a.createElement("button",{className:"addCollectionButton",onClick:function(){return C.apply(this,arguments)}},a("addCollectionButton")),isHidden:o}))}var ne=function(){var e=Object(j.c)((function(e){return e.auth})),t=Object(c.useState)({collections:[]}),a=Object(B.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)(!1),i=Object(B.a)(o,2),s=i[0],p=i[1],f=function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch([d,"api","deleteCollection",e.token,a].join("/"),{method:"POST"});case 2:t.sent.ok&&r({collections:n.collections.filter((function(e){return e.name!==a}))});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch([d,"api","getCollections",e.token,e.username].join("/"));case 2:if(200!==(a=t.sent).status){t.next=10;break}return t.t0=r,t.next=7,a.json();case 7:t.t1=t.sent,t.t2={collections:t.t1},(0,t.t0)(t.t2);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}""!==e.username&&function(){t.apply(this,arguments)}()}),[e.username]),l.a.createElement("div",{className:"collections"},l.a.createElement("section",null,l.a.createElement($.Provider,{value:{isEditing:s,toggleEditing:function(){p((function(e){return!e}))}}},l.a.createElement(ae,{setCollections:r}),n.collections.map((function(e,t){return l.a.createElement(ee,{key:t,authorUsername:e.username,wordCount:e.wordCount,collectionName:e.name,onDelete:f})})))))},re=l.a.createContext();a(60);var oe=l.a.memo((function(e){var t=e.style,a=e.jsonData,n=e.onDelete,r=l.a.useState(!1),o=Object(B.a)(r,2),c=o[0],i=o[1],s=Object(N.a)("collections").t,u=l.a.useContext(re).isEditing,m={transition:"transform 0.3s",transform:c?"translateY(-50%) rotate(90deg)":""};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"collectionWordCard",style:t,onClick:function(){u||i((function(e){return!e}))}},u&&l.a.createElement("button",{className:"deleteCollectionButton",style:{marginLeft:"0",marginRight:"10px"},onClick:function(){return n(a.word)}},s("deleteCollectionButton")),l.a.createElement("p",{className:"collectionWord"},a.word),l.a.createElement(Q,{width:"20",height:"20",fill:"currentColor",style:m})),c&&l.a.createElement(_,{json_data:a,style:{backgroundColor:"rgba(0, 0, 0, 0.03)",paddingTop:"10px",margin:"0"}}))}));a(61),a(62);function ce(e){var t=e.authorUsername,a=e.collectionName,n=Object(N.a)("collectionWords").t,r=l.a.useContext(re),c=r.isEditing,i=r.toggleEditing,s=r.collectionWords,u=Object(o.g)();return l.a.createElement("div",{className:"card collectionHeader"},l.a.createElement("p",{className:"collectionTitle"},a),l.a.createElement("div",{className:"collectionWordsHeaderButtons"},l.a.createElement("button",{className:"selectCollectionButton",onClick:i},n(c?"cancelEditingButton":"startEditingButton",{ns:"collections"})),l.a.createElement("button",{className:"learnWordsButton",onClick:function(){u("/learn/"+t+"/"+a,{state:s.slice(0,20)})}},n("learnButton"))))}var le=l.a.memo((function(){var e=Object(o.h)(),t=e.username,a=e.collectionName,n=Object(j.c)((function(e){return e.auth})),r=Object(c.useState)([]),i=Object(B.a)(r,2),s=i[0],p=i[1],f=Object(c.useState)(!1),h=Object(B.a)(f,2),b=h[0],E=h[1],g=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch([d,"api","deleteCollectionWord",n.token,a,t].join("/"),{method:"POST"});case 2:e.sent.ok&&p((function(e){return e.filter((function(e){return e.word!==t}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){""!==n.username&&fetch([d,"api","getCollectionWords",n.token,t,a].join("/")).then(function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p,e.next=3,t.json();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n.username]),l.a.createElement("div",{className:"collectionWords"},l.a.createElement("section",null,l.a.createElement(re.Provider,{value:{isEditing:b,toggleEditing:function(){E((function(e){return!e}))},collectionWords:s}},l.a.createElement(ce,{authorUsername:t,collectionName:a,isEditing:!1}),l.a.createElement("div",{className:"card colWords"},s&&s.sort((function(e,t){return e.word>t.word})).map((function(e,t){return l.a.createElement(oe,{key:t,jsonData:e,style:{borderBottom:t===s.length-1?"none":"1px solid lightgray",cursor:b?"auto":"pointer",paddingLeft:b?"10px":"20px"},onDelete:g})}))))))})),ie=a(30),se=a(14),ue=a(28),me=a(29);ie.a.use(se.e).init({fallbackLng:"ru",debug:!0,resources:{en:ue,ru:me},interpolation:{escapeValue:!1}});a(63);function de(e){var t=e.wordsStatus,a=Object(o.h)(),n=a.authorUsername,r=a.collectionName,c=Object(o.g)(),i=Object(N.a)("learning").t,s=Math.floor(t.reduce((function(e,t){return e+("true"===t.status?1:0)}),0)/t.length*100);return l.a.createElement("section",null,l.a.createElement("div",{className:"card finishLearningCard"},l.a.createElement("div",{className:"youRememberText"},l.a.createElement("p",{className:"youRemember"},i("youRemember")),l.a.createElement("p",{className:"percentageOfWords"},s,"% ",i("ofWords"))),l.a.createElement("button",{className:"goBackToCollectionButton",onClick:function(){c("/collections/"+n+"/"+r)}},i("goBack"))))}a(64);function pe(e){var t=e.word,a=e.currentWordIndex,n=e.moveCurrentWordIndex,r=e.numberOfWords,o=e.wordStatusChanged,c=Object(N.a)("learning").t,i=l.a.useState(!1),s=Object(B.a)(i,2),u=s[0],m=s[1];function d(e){o(t,"rememberButton"===e.target.className),n()}return l.a.createElement("div",{className:"learningCard card"},l.a.createElement("div",{className:"statsHeader"},l.a.createElement("p",null,a,"/",r)),l.a.createElement("div",{className:"learningWord"},l.a.createElement("p",null,t.word),l.a.createElement(R,{width:"24",height:"24",fill:"white",phonetics:t.phonetics})),l.a.createElement("button",{className:"showDefinitionButton",onClick:function(){return m(!u)}},c(u?"hideDefinition":"showDefinition")),l.a.createElement("div",{className:"learningDefinition"},u&&l.a.createElement(_,{json_data:t,showWord:!1})),l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{className:"rememberButton",onClick:d},c("rememberButton")),l.a.createElement("br",null),l.a.createElement("button",{className:"forgotButton",onClick:d},c("forgotButton"))))}function fe(){var e=Object(o.h)().collectionName,t=Object(o.f)().state,a=Object(j.c)((function(e){return e.auth})),n=l.a.useState(0),r=Object(B.a)(n,2),i=r[0],s=r[1],p=l.a.useState([]),f=Object(B.a)(p,2),h=f[0],b=f[1];function E(){return(E=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(i+1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function n(){return(n=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch([d,"api","learnWords",a.token,e].join("/"),{method:"POST",body:JSON.stringify(h)});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}h.length===t.length&&function(){n.apply(this,arguments)}()}),[h]),l.a.createElement("section",null,t.length>0&&i<t.length?l.a.createElement(pe,{currentWordIndex:i+1,numberOfWords:t.length,word:t[i],moveCurrentWordIndex:function(){return E.apply(this,arguments)},wordStatusChanged:function(e,t){b((function(a){return[].concat(Object(te.a)(a),[{word:e.word,status:t.toString()}])}))}}):l.a.createElement(de,{wordsStatus:h}))}function he(){return l.a.createElement(c.Suspense,{fallback:"loading"},l.a.createElement(j.a,{store:v},l.a.createElement(r.a,null,l.a.createElement(C,null),l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",element:l.a.createElement(o.a,{to:"/dictionary"})}),l.a.createElement(o.b,{path:"/dictionary",element:l.a.createElement(J,null)}),l.a.createElement(o.b,{path:"/account",element:l.a.createElement(k,null)}),l.a.createElement(o.b,{path:"/login",element:l.a.createElement(q,null)}),l.a.createElement(o.b,{path:"/signup",element:l.a.createElement(G,null)}),l.a.createElement(o.b,{path:"/verification",element:l.a.createElement(X,null)}),l.a.createElement(o.b,{path:"/collections/:username/:collectionName",element:l.a.createElement(le,null)}),l.a.createElement(o.b,{path:"/collections",element:l.a.createElement(ne,null)}),l.a.createElement(o.b,{path:"/learn/:authorUsername/:collectionName",element:l.a.createElement(fe,null)})))))}v.dispatch((function(e,t){return g.apply(this,arguments)}));var be=document.getElementById("root");Object(n.render)(l.a.createElement(he,null),be)}]),[[31,1,2]]]);
//# sourceMappingURL=main.c1d6f3a7.chunk.js.map